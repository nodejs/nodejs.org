@reference "../../../styles/index.css";

.slidingPanelContent {
  @apply overflow-hidden
    shadow-2xl
    md:max-w-none;

  background-color: #050505 !important;
  border: 1px solid rgb(255 255 255 / 10%);
  border-radius: 12px !important;
  max-width: 100vw;

  > div {
    @apply relative
      overflow-y-auto
      p-8;

    max-height: 80vh;
  }
}

.slidingPanelInner {
  @apply mx-auto
    flex
    max-w-4xl
    flex-col
    justify-between
    gap-8;

  background-color: #050505 !important;
  min-height: 80vh;
}

.slidingPanelTop {
  @apply flex
    min-h-0
    flex-1
    flex-col
    pb-6;
}

.slidingPanelBottom {
  @apply relative
    flex-shrink-0;
}

.slidingPanelCloseButton {
  @apply absolute
    right-6
    top-6
    z-10
    cursor-pointer
    rounded-full
    p-2
    text-neutral-400
    transition-colors
    duration-300
    hover:bg-neutral-800
    hover:text-white;

  svg {
    @apply h-6
      w-6;
  }
}

.chatInteractionsWrapper {
  @apply relative
    h-full
    items-start
    overflow-y-auto
    px-8;

  background-color: #050505 !important;
  scrollbar-color: rgb(255 255 255 / 20%) transparent;
  scrollbar-width: thin;

  > div {
    @apply h-full;
  }
}

.chatInteractionsWrapper::-webkit-scrollbar {
  width: 4px;
}

.chatInteractionsWrapper::-webkit-scrollbar-track {
  background: transparent;
}

.chatInteractionsWrapper::-webkit-scrollbar-thumb {
  background: rgb(255 255 255 / 20%);
  border-radius: 2px;
}

.chatInteractionsWrapper::-webkit-scrollbar-thumb:hover {
  background: rgb(255 255 255 / 30%);
}

.chatUserPrompt {
  @apply mb-4
    text-base
    text-neutral-900
    dark:text-neutral-200;
}

.chatSources {
  @apply mb-4
    flex
    flex-nowrap
    items-center
    gap-3
    overflow-x-scroll
    scroll-smooth
    [scrollbar-width:none]
    [&::-webkit-scrollbar]:hidden;
}

.chatSource {
  @apply flex
    max-w-xs
    items-center
    gap-2
    text-base;
}

.chatSourceLink {
  @apply rounded-xl
    bg-neutral-100
    px-4
    py-2
    text-neutral-900
    transition-colors
    duration-300
    hover:bg-neutral-200
    focus:bg-neutral-200
    dark:bg-neutral-950
    dark:text-neutral-200
    hover:dark:bg-neutral-900
    focus:dark:bg-neutral-900;
}

.chatSourceTitle {
  @apply max-w-full
    overflow-hidden
    truncate
    text-ellipsis
    whitespace-nowrap
    text-sm
    font-semibold;
}

.chatAssistantMessageWrapper {
  @apply my-4
    mb-6
    max-w-full
    rounded-xl
    px-6
    py-4
    text-base;

  background-color: #0d121c !important;
  border: 1px solid rgb(255 255 255 / 10%);
  color: white !important;
}

.chatAssistantMessage {
  p {
    @apply font-sm-line-height
      mb-3;
  }

  pre:not([class*='language-']) {
    @apply my-4;

    > div {
      @apply rounded-lg
        p-3
        text-sm;
    }
  }

  ul {
    @apply list-disc
      pl-6;

    li {
      @apply mb-2;
    }
  }

  strong {
    @apply font-bold;
  }

  h3 {
    @apply mb-2
      text-lg
      font-bold;
  }
}

.chatLoader {
  @apply my-4;
}

.chatActionsContainer {
  @apply flex
    items-center
    justify-end
    pt-2;
}

.chatActionsList {
  @apply flex
    list-none
    items-center
    gap-2
    p-0;
}

.chatAction {
  @apply cursor-pointer
    rounded-full
    p-2
    text-neutral-800
    transition-colors
    duration-300
    hover:bg-neutral-300
    dark:text-neutral-400
    dark:hover:bg-neutral-900;

  svg {
    @apply h-4
      w-4;
  }
}

.chatActionIconSelected {
  @apply text-green-600
    dark:text-green-400;
}

.promptTextAreaWrapper {
  @apply relative
    mx-8
    flex
    items-center
    space-x-2
    rounded-2xl
    border
    border-neutral-700
    bg-neutral-800
    px-4
    py-3
    text-base
    text-white
    placeholder:text-neutral-400
    focus-within:border-neutral-500
    focus:outline-none;
}

.promptTextAreaWrapper textarea {
  background: transparent !important;
  border: none !important;
  color: white !important;
  font-family: inherit !important;
  font-size: 16px !important;
  font-weight: 400 !important;
  line-height: 1.5 !important;
  margin: 0 !important;
  outline: none !important;
  padding: 0 !important;
  resize: none !important;
  width: 100% !important;
}

.promptTextAreaWrapper textarea::placeholder {
  color: #a3a3a3 !important;
  opacity: 1 !important;
}

/* High specificity override for chat textarea */
textarea[data-chat-textarea='true'] {
  background: transparent !important;
  border: none !important;
  color: white !important;
  font-family: inherit !important;
  font-size: 16px !important;
  font-weight: 400 !important;
  line-height: 1.5 !important;
  margin: 0 !important;
  outline: none !important;
  padding: 0 !important;
  resize: none !important;
  width: 100% !important;
}

textarea[data-chat-textarea='true']::placeholder {
  color: #a3a3a3 !important;
  opacity: 1 !important;
}

.scrollDownButton {
  @apply absolute
    -top-8
    left-1/2
    -translate-x-1/2
    -translate-y-1/2
    cursor-pointer
    rounded-lg
    bg-neutral-700
    p-2
    text-white
    transition-colors
    duration-300
    hover:bg-neutral-600;

  svg {
    @apply h-4
      w-4;
  }
}

.promptTextAreaButton {
  @apply absolute
    right-3
    top-1/2
    -translate-y-1/2
    cursor-pointer
    rounded-lg
    bg-green-600
    p-2
    text-white
    transition-colors
    duration-300
    hover:bg-green-500
    disabled:cursor-not-allowed
    disabled:bg-neutral-600
    disabled:text-neutral-400;
}

.promptTextAreaField {
  @apply w-full
    resize-none
    border-0
    bg-transparent
    px-0
    py-0
    text-white
    placeholder:text-neutral-400
    focus:outline-none;

  background: transparent !important;
  border: none !important;
  color: white !important;
  font-family: inherit !important;
  font-size: 16px !important;
  font-weight: 400 !important;
  line-height: 1.5 !important;
  margin: 0 !important;
  outline: none !important;
  padding: 0 !important;
}

.promptTextAreaField::placeholder {
  color: #a3a3a3 !important;
  opacity: 1 !important;
}

.slidingPanelFooter {
  align-items: center;
  color: #a3a3a3;
  display: flex;
  flex-direction: row;
  font-size: 12px;
  justify-content: center;
  padding-top: 4px;
}

.suggestionsContainer {
  @apply flex
    min-h-[60vh]
    flex-col
    items-center
    justify-center
    px-8;
}

.suggestionChips {
  @apply flex
    max-w-md
    flex-wrap
    justify-center
    gap-3;
}

.suggestionChip {
  @apply rounded-full
    border
    border-neutral-700
    bg-transparent
    px-4
    py-2
    text-sm
    text-neutral-300
    transition-colors
    duration-300
    hover:border-neutral-600
    hover:bg-neutral-800
    hover:text-white;
}

/* Textarea styles matching Orama UI patterns */
.promptTextAreaField,
.oramaTextarea,
textarea[aria-label='Prompt input'] {
  background: #0d121c !important;
  border: none !important;
  color: white !important;
  font-family: inherit !important;
  font-size: 14px !important;
  font-weight: 400 !important;
  left: 0 !important;
  line-height: 1.5 !important;
  margin: 0 !important;
  outline: none !important;
  padding: 13px 7px !important;
  resize: none !important;
  right: 0 !important;
  transition: height 0.1s !important;
  width: 100% !important;
}

/* Responsive font sizes */
@media (min-width: 768.02px) {
  .promptTextAreaField,
  .oramaTextarea {
    font-size: 16px !important;
  }
}

@media (min-width: 768.02px) {
  .promptTextAreaField,
  .oramaTextarea,
  textarea[aria-label='Prompt input'] {
    font-size: 14px !important;
    padding: 13px 7px !important;
  }
}

/* Additional global textarea targeting */
.slidingPanelContent textarea,
.slidingPanelBottom textarea {
  background: #0d121c !important;
  color: white !important;
}
