@reference "../../../styles/index.css";

.slidingPanelWrapper {
  @apply fixed;
  @apply inset-0;
  @apply z-[10019];
}

.slidingPanelBackdrop {
  @apply fixed;
  @apply inset-0;
  @apply z-[10018];
  @apply bg-black/60;
}

.slidingPanelCloseButton {
  @apply absolute;
  @apply right-6;
  @apply top-6;
  @apply z-30;
  @apply flex;
  @apply h-10;
  @apply w-10;
  @apply cursor-pointer;
  @apply items-center;
  @apply justify-center;
  @apply rounded-full;
  @apply border;
  @apply transition-all;
  @apply duration-300;
  @apply ease-in-out;

  svg {
    @apply h-6;
    @apply w-6;
  }
}

.slidingPanelContentWrapper {
  @apply fixed,
    bottom-0,
    left-0,
    z-[10019],
    box-border,
    h-[95vh],
    w-full,
    overflow-hidden,
    p-0,
    !bg-neutral-950,
    !border,
    !border-neutral-700,
    !text-white;

  border-radius: var(--radius-m, calc(12rem / var(--orama-base-font-size, 16)))
    var(--radius-m, calc(12rem / var(--orama-base-font-size, 16))) 0 0;
  transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.slidingPanelContent {
  @apply fixed;
  @apply bottom-0;
  @apply left-0;
  @apply z-[10019];
  @apply box-border;
  @apply h-[95vh];
  @apply w-full;
  @apply overflow-hidden;
  @apply p-0;
  @apply text-white;
}

.slidingPanelInner {
  @apply mx-auto;
  @apply flex;
  @apply h-full;
  @apply max-w-4xl;
  @apply flex-col;
  @apply justify-between;
}

.slidingPanelTop {
  @apply flex;
  @apply min-h-0;
  @apply flex-1;
  @apply flex-col;
  @apply pb-6;
}

.chatInteractionsWrapper {
  @apply relative;
  @apply h-full;
  @apply items-start;
  @apply overflow-y-auto;
  @apply px-8;

  &::-webkit-scrollbar {
    width: 4px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background: rgb(255 255 255 / 20%);
    border-radius: 2px;

    &:hover {
      background: rgb(255 255 255 / 30%);
    }
  }
}

.slidingPanelBottom {
  @apply relative;
  @apply flex-shrink-0;
}

.chatUserPrompt {
  @apply mb-6;
  @apply flex;
  @apply justify-end;

  p {
    @apply max-w-2xl;
    @apply rounded-xl;
    @apply bg-white;
    @apply px-4;
    @apply py-3;
    @apply text-black;
  }
}

.chatLoader {
  @apply mb-6;
  @apply flex;
  @apply items-center;
  @apply space-x-2;
  @apply text-white;

  span {
    @apply h-2;
    @apply w-2;
    @apply animate-pulse;
    @apply rounded-full;
    @apply bg-white;
  }

  p {
    @apply text-sm;
    @apply text-white/70;
  }
}

.chatAssistantMessageWrapper {
  @apply mb-6;
  @apply w-full;
}

.chatAssistantMessage {
  @apply prose;
  @apply prose-invert;
  @apply max-w-none;
  @apply text-white;

  p {
    color: white;
    margin-bottom: 16px;
  }

  a {
    @apply text-blue-400;

    &:hover {
      @apply text-blue-300;
    }
  }

  code {
    @apply rounded;
    @apply bg-white/10;
    @apply px-1;
    @apply py-0.5;
    @apply text-sm;
    @apply text-white;
  }

  pre {
    @apply rounded-lg;
    @apply bg-gray-900;
    @apply p-4;

    code {
      @apply bg-transparent;
      @apply p-0;
    }
  }
}

.chatSources {
  @apply mb-4;
  @apply flex;
  @apply flex-wrap;
  @apply gap-2;
}

.chatSource {
  @apply inline-block;
}

.chatSourceLink {
  @apply rounded-xl;
  @apply bg-neutral-100;
  @apply px-4;
  @apply py-2;
  @apply text-neutral-900;
  @apply transition-colors;
  @apply duration-300;
  @apply dark:bg-neutral-950;
  @apply dark:text-neutral-200;

  &:hover {
    @apply bg-neutral-200;
    @apply dark:bg-neutral-900;
  }

  &:focus {
    @apply bg-neutral-200;
    @apply dark:bg-neutral-900;
  }
}

.chatSourceTitle {
  @apply max-w-full;
  @apply overflow-hidden;
  @apply truncate;
  @apply text-ellipsis;
  @apply whitespace-nowrap;
  @apply text-sm;
  @apply font-semibold;
}

.chatActionsContainer {
  @apply mb-4;
  @apply flex;
  @apply justify-end;
}

.chatActionsList {
  @apply flex;
  @apply space-x-2;
}

.chatAction {
  @apply flex;
  @apply h-8;
  @apply w-8;
  @apply items-center;
  @apply justify-center;
  @apply rounded-full;
  @apply bg-white/10;
  @apply text-white;
  @apply transition-colors;
  @apply duration-300;

  &:hover {
    @apply bg-white/20;
  }

  &:focus {
    @apply bg-white/20;
  }

  svg {
    @apply h-4;
    @apply w-4;
  }
}

.chatActionIconSelected {
  @apply bg-white/30;
}

.promptWrapperCustom {
  @apply relative;
  @apply flex-shrink-0;
}

.promptFieldCustom {
  @apply w-full;
  @apply resize-none;
  @apply border-0;
  @apply bg-transparent;
  @apply px-0;
  @apply py-0;
  @apply text-white;
  @apply placeholder:text-neutral-400;

  &:focus {
    @apply outline-none;
  }
}

.promptButtonCustom {
  @apply absolute;
  @apply right-3;
  @apply top-1/2;
  @apply -translate-y-1/2;
  @apply cursor-pointer;
  @apply rounded-lg;
  @apply bg-green-600;
  @apply p-2;
  @apply text-white;
  @apply transition-colors;
  @apply duration-300;

  &:hover {
    @apply bg-green-500;
  }

  &:disabled {
    @apply cursor-not-allowed;
    @apply bg-neutral-600;
    @apply text-neutral-400;
  }

  svg {
    @apply h-4;
    @apply w-4;
  }
}

.slidingPanelFooter {
  align-items: center;
  color: #a3a3a3;
  display: flex;
  flex-direction: row;
  font-size: 12px;
  justify-content: center;
  padding-top: 4px;
}

/* Textarea styles moved to ChatInput component */

:global(.hljs) {
  @apply !bg-gray-800,
    !text-gray-300;
}

.scrollDownButton {
  @apply absolute;
  @apply -top-12;
  @apply right-4;
  @apply flex;
  @apply h-8;
  @apply w-8;
  @apply items-center;
  @apply justify-center;
  @apply rounded-full;
  @apply bg-white/10;
  @apply text-white;
  @apply transition-colors;
  @apply duration-300;

  &:hover {
    @apply bg-white/20;
  }

  &:focus {
    @apply bg-white/20;
    @apply outline-none;
  }

  svg {
    @apply h-4;
    @apply w-4;
  }
}

.chatCustomPanel {
  background-color: rgb(13 18 28);
  border-radius: 0.75rem;
  margin-bottom: 1.5rem;
  padding: 1rem;
  width: auto;
}

.chatPanelContainer {
  @apply mx-auto;
  @apply flex;
  @apply h-[95vh];
  @apply flex-col;
  @apply overflow-x-hidden;
  @apply py-4;
}

.chatDesktopContainer {
  max-width: 52.5rem;
  width: 80%;
}

.chatContentWrapper {
  @apply flex;
  @apply min-h-0;
  @apply flex-1;
  @apply flex-col;
  @apply pb-6;
}

.chatMobileContainer {
  display: block;
}

.chatMobilePadding {
  @apply relative;
  @apply h-full;
  @apply max-h-full;
  @apply items-start;
  @apply overflow-y-auto;
}

@media (max-width: 768px) {
  .slidingPanelInner {
    @apply px-4;
  }

  .chatUserPrompt > div,
  .chatAssistantMessage {
    @apply max-w-full;
  }
}

@media (max-width: 600px) {
  .chatMobilePadding {
    padding-left: 8px !important;
    padding-right: 8px !important;
  }

  .chatCustomPanel {
    overflow: auto;
  }

  .chatMobileContainer {
    max-width: 100% !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    width: 100% !important;
  }
}
