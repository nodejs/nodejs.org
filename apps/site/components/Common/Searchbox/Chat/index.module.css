@reference "../../../styles/index.css";

.slidingPanelCloseButton {
  @apply absolute;
  @apply right-6;
  @apply top-6;
  @apply z-20;
  @apply cursor-pointer;
  @apply rounded-full;
  @apply bg-white/10;
  @apply p-2;
  @apply text-white;
  @apply transition-colors;
  @apply duration-300;
  @apply hover:bg-white/20;
  @apply focus:bg-white/20;
  @apply focus:outline-none;

  svg {
    @apply h-6;
    @apply w-6;
  }
}

.slidingPanelContent {
  @apply h-[90vh];
  @apply max-w-[100vw];
  @apply overflow-hidden;
  @apply rounded-xl;
  @apply p-4;
  @apply shadow-lg;
}

.slidingPanelInner {
  @apply mx-auto;
  @apply flex;
  @apply h-full;
  @apply max-w-4xl;
  @apply flex-col;
  @apply justify-between;
}

.slidingPanelTop {
  @apply flex;
  @apply min-h-0;
  @apply flex-1;
  @apply flex-col;
  @apply pb-6;
}

.chatInteractionsWrapper {
  @apply relative;
  @apply h-full;
  @apply items-start;
  @apply overflow-y-auto;
  @apply px-8;
}

.chatInteractionsWrapper::-webkit-scrollbar {
  width: 4px;
}

.chatInteractionsWrapper::-webkit-scrollbar-track {
  background: transparent;
}

.chatInteractionsWrapper::-webkit-scrollbar-thumb {
  background: rgb(255 255 255 / 20%);
  border-radius: 2px;
}

.chatInteractionsWrapper::-webkit-scrollbar-thumb:hover {
  background: rgb(255 255 255 / 30%);
}

.slidingPanelBottom {
  @apply relative;
  @apply flex-shrink-0;
}

.chatUserPrompt {
  @apply mb-6;
  @apply flex;
  @apply justify-end;

  p {
    @apply max-w-2xl;
    @apply rounded-xl;
    @apply bg-white;
    @apply px-4;
    @apply py-3;
    @apply text-black;
  }
}

.chatLoader {
  @apply mb-6;
  @apply flex;
  @apply items-center;
  @apply space-x-2;
  @apply text-white;

  span {
    @apply h-2;
    @apply w-2;
    @apply animate-pulse;
    @apply rounded-full;
    @apply bg-white;
  }

  p {
    @apply text-sm;
    @apply text-white/70;
  }
}

.chatAssistantMessageWrapper {
  @apply mb-6;
  @apply w-full;
}

.chatAssistantMessage {
  @apply prose;
  @apply prose-invert;
  @apply max-w-none;
  @apply text-white;

  p {
    color: white;
    margin-bottom: 16px;
  }

  a {
    @apply text-blue-400;
    @apply hover:text-blue-300;
  }

  code {
    @apply rounded;
    @apply bg-white/10;
    @apply px-1;
    @apply py-0.5;
    @apply text-sm;
    @apply text-white;
  }

  pre {
    @apply rounded-lg;
    @apply bg-gray-900;
    @apply p-4;

    code {
      @apply bg-transparent;
      @apply p-0;
    }
  }
}

.chatSources {
  @apply mb-4;
  @apply flex;
  @apply flex-wrap;
  @apply gap-2;
}

.chatSource {
  @apply inline-block;
}

.chatSourceLink {
  @apply rounded-xl;
  @apply bg-neutral-100;
  @apply px-4;
  @apply py-2;
  @apply text-neutral-900;
  @apply transition-colors;
  @apply duration-300;
  @apply hover:bg-neutral-200;
  @apply focus:bg-neutral-200;
  @apply dark:bg-neutral-950;
  @apply dark:text-neutral-200;
  @apply hover:dark:bg-neutral-900;
  @apply focus:dark:bg-neutral-900;
}

.chatSourceTitle {
  @apply max-w-full;
  @apply overflow-hidden;
  @apply truncate;
  @apply text-ellipsis;
  @apply whitespace-nowrap;
  @apply text-sm;
  @apply font-semibold;
}

.chatActionsContainer {
  @apply mb-4;
  @apply flex;
  @apply justify-end;
}

.chatActionsList {
  @apply flex;
  @apply space-x-2;
}

.chatAction {
  @apply flex;
  @apply h-8;
  @apply w-8;
  @apply items-center;
  @apply justify-center;
  @apply rounded-full;
  @apply bg-white/10;
  @apply text-white;
  @apply transition-colors;
  @apply duration-300;
  @apply hover:bg-white/20;
  @apply focus:bg-white/20;

  svg {
    @apply h-4;
    @apply w-4;
  }
}

.chatActionIconSelected {
  @apply bg-white/30;
}

.promptWrapperCustom {
  @apply relative;
  @apply flex-shrink-0;
}

.promptFieldCustom {
  @apply w-full;
  @apply resize-none;
  @apply border-0;
  @apply bg-transparent;
  @apply px-0;
  @apply py-0;
  @apply text-white;
  @apply placeholder:text-neutral-400;
  @apply focus:outline-none;
}

.promptButtonCustom {
  @apply absolute;
  @apply right-3;
  @apply top-1/2;
  @apply -translate-y-1/2;
  @apply cursor-pointer;
  @apply rounded-lg;
  @apply bg-green-600;
  @apply p-2;
  @apply text-white;
  @apply transition-colors;
  @apply duration-300;
  @apply hover:bg-green-500;
  @apply disabled:cursor-not-allowed;
  @apply disabled:bg-neutral-600;
  @apply disabled:text-neutral-400;

  svg {
    @apply h-4;
    @apply w-4;
  }
}

.slidingPanelFooter {
  align-items: center;
  color: #a3a3a3;
  display: flex;
  flex-direction: row;
  font-size: 12px;
  justify-content: center;
  padding-top: 4px;
}

/* Textarea styles moved to ChatInput component */

:global(.hljs) {
  background: #282c34 !important;
  color: #abb2bf !important;
}

.scrollDownButton {
  @apply absolute;
  @apply -top-12;
  @apply right-4;
  @apply flex;
  @apply h-8;
  @apply w-8;
  @apply items-center;
  @apply justify-center;
  @apply rounded-full;
  @apply bg-white/10;
  @apply text-white;
  @apply transition-colors;
  @apply duration-300;
  @apply hover:bg-white/20;
  @apply focus:bg-white/20;
  @apply focus:outline-none;

  svg {
    @apply h-4;
    @apply w-4;
  }
}

@media (max-width: 768px) {
  .slidingPanelInner {
    @apply px-4;
  }

  .chatUserPrompt > div,
  .chatAssistantMessage {
    @apply max-w-full;
  }
}
