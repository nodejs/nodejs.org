---
title: كيفية نشر حزمة N-API
layout: docs.hbs
---

# نشر نسخة N-API لحزمة موازية مع نسخة غير خاصة بـ N-API

يتم توضيح الخطوات الآتية بإستعمال حزمة `iotivity-node`:

* كخطوة أولى، قم بنشر النسخة الغير خاصة بالـ N-API من الحزمة.
  * قم بتحديث النسخة في ملف `package.json`. بالنسبة لـ `iotivity-node` فإن النسخة ستصبح `1.2.0-2`
  * قم بتفحص قائمة التأكيدات الخاصة بالإصدارات (تأكد من ان test/demos/docs على ما يرام)
  * `npm publish`
* بعد ذلك، قم بنشر النسخة الخاصة بالـ N-API:
  * قم بتحديث النسخة في ملفة `package.json`. في حالة `iotivity-node`، فإن النسخة ستصبح `1.2.0-3`. عند وضع أرقام النسخ، ننصحك بإتباع الطريقة الآتية لوضع نسخ قبلية:
  [semver.org](https://semver.org/#spec-item-9). `1.2.0-napi` كمثال.
  * قم بتفحص قائمة التأكيدات الخاصة بالإصدارات (تأكد من ان test/demos/docs على ما يرام)
  * `npm publish --tag n-api`

في هذا المثال، فإن وسم الحزمة بالوسم `n-api` سيضمن ذلك، رغم أن النسخة 1.2.0-3 احدث من آخر نسخة غير خاصة بالـ N-API تم نشرها (1.2.0-2). لن يتم تثبيت الحزمة إذا قام احدهم بفعل ذلك عن طريق الأمر
`npm install iotivity-node` ، بل سيتم تثبيت نسخة غير خاصة بالـ N-API افتراضيا.
حتى يتمكن المستخدم من تثبيت نسخة خاصة بالـ N-API، يجب عليه تنفيذ الأمر `npm install iotivity-node@n-api`.
لمزيد من المعلومات حول كيفية استعمال الوسوم مع مدير حزم النود، قم بزيارة ["Using dist-tags"][].

## كيفية تقديم اعتماد في نسخة لحزمة خاصة بـ N-API
لإضافة نسخة خاصة بالـ N-API من حزمة `iotivity-node` كإعتماد ، يجب على ملف `package.json` أن يبدو كما يلي:

```json
"dependencies": {
  "iotivity-node": "n-api"
}
```

**ملاحظة** مثل ما تم شرحه في ["Using dist-tags"][]، و على النقيض من النسخ العادية، فإن النسخ الموسومة لا يمكن ان يُشار إليها باستعمال "مدى النسخ" مثل `"^2.0.0"` داخل ملف `package.json`، وسبب ذلك هو أن الوسم يشير لنسخة واحدة فقط لذلك، إذا اختار الشخص المسؤول عن الحزمة أن يسم نسخة احدث من الحزمة باستعمال نفس الوسم، فإن الأمر `npm update` سيستقبل آخر نسخة، و هذا عادي نظرا لكون الـ N-API ما يزال اختباريا.
لاستعمال اعتماد خاص بنسخة تدعم N-API عدا عن آخر نسخة تم نشرها، يجب ان يشار في ملف `package.json` إلى النسخ بالتحديد كما يلي:

```json
"dependencies": {
  "iotivity-node": "1.2.0-3"
}
```

["Using dist-tags"]: https://docs.npmjs.com/getting-started/using-tags
